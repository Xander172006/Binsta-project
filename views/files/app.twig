<!DOCTYPE html>
<html lang="en">
<head>
    <title>Binsta</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- css -->
    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="/css/settings.css">
    <link rel="stylesheet" href="/css/makePost.css">

    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

    <!-- javascript -->
    <script src="/views/javascript/app.js" defer></script>
<body class="applicationBody">
</head>
  <header>
    <nav class="navbar">
      <ul class="navbar_nav">
        <li class="logo">
          <p class="title">Binsta</p>
        </li>

        <li class="nav_item">
          <form action="/" method="POST">
            <button type="submit" class="nav_link buttonLink">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-house-door-fill icon_svg" viewBox="0 0 16 16">
                <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5Z"/>
              </svg>
              <span class="link_text">Homepage</span>
            </button>
          </form>
        </li>

        <li class="nav_item" id="Searchbutton">
          <div class="group_searchform">
            <div class="group_search_toggle nav_link" style="font-family: Arial, Helvetica, sans-serif;" id="expand">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-search icon_svg" viewBox="0 0 16 16">
                  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
                <span class="link_text">Search</span>
            </div>

          <div class="SearchContainer" style="{{ nav }}" id="SearchForm">
            <form action="" method="POST">
                <div class="Searchform">
                    <input class="SearchInput" type="search" name="Searchbar" placeholder="Search" id="Searchbar">
                    <button class="searchbarButton" style="background-color: rgb(0, 191, 255);" type="submit" name="FindUser">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                        </svg>
                    </button>
                </div>
            </form>

            <div class="autocomplete">
                {% if search %}
                <ul>
                  {% for account in search %}
                  <li class="items_found">
                        <form class="results_found" action="http://localhost/account/details/{{ account.gebruikersnaam }}" method="POST">
                          <button class="ViewButton" type="submit" name="ViewProfile">
                              {% if account.profile %}
                              <img class="profile_found" src="/uploads/{{ account.profile }}" alt="search_result_profile" width="35px">
                              {% else %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                                  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                                </svg>
                              {% endif %}
                            <p class="found_name">{{ account.gebruikersnaam }}</p>
                            </button>
                        </form>
                      </li>
                  {% endfor %}
                  </ul>
                {% else %}
                  <p>No users found</p>
                {% endif %}
            </div>
          </div>
        </div>
      </li>


        <li class="nav_item">
          <form action="/create" method="POST">
            <button type="submit" class="nav_link buttonLink">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus-square icon_svg" viewBox="0 0 16 16">
                <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
              </svg>
              <span class="link_text">Create</span>
            </button>
          </form>
        </li>

        <li class="nav_item">
          <form action="/account/settings" method="POST">
            <button type="submit" class="nav_link buttonLink">
              {% if userinfo.profile %}
              <div style="display: flex; flex-direction: row;">
                <img class="picture profileImage_icon" src="/uploads/{{ userinfo.profile }}" alt="profile picture" width="50px">
              </div>
                {% else %}
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-person-circle icon_svg" viewBox="0 0 16 16">
                  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                </svg>
              {% endif %}
              <span class="link_text">Account</span>
            </button>
          </form>
        </li>
        

        <li class="nav_item">
          <form action="/account/login" method="POST">
            <button type="submit" class="nav_link buttonLink" name="Logout">
              <img class="icon_svg" src="https://www.svgrepo.com/show/487536/logout-bracket.svg" alt="Logout svg" width="30px">
              <span class="link_text">Logout</span>
            </button>
          </form>
        </li>
      </ul>
    </nav>
  </header>

{% block content %}
  <main class="app_main">
    <section class="diplsaySection">
      {% if posts %}
        {% for post in posts|slice(0, 5) %}
        <div class="user_posts">
          <form class="username_profile" action="/account/details/{{ post.gebruikersnaam }}" method="POST">
            <button class="viewProfile_button" type="submit" name="ViewPostCreator">
              {% if post.profile %}
                <img style="border-radius: 50%;" src="/uploads/{{ post.profile }}" alt="user_profileImg" width="40px">
              {% else %}
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
              </svg>
              {% endif %}
            </button>
            <p>{{ post.gebruikersnaam }}</p>
          </form>
          <div class="ImageContainer">
            <img class="Imageupload" src="/uploads/posts/{{ post.codeimage }}" alt="upload_post">

            <form class="Likes" action="" method="POST">
              <button class="LikeButton" type="submit" name="LikeButton">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-heart" id="Heart" viewBox="0 0 16 16">
                  <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                </svg>
              </button>
              <input type="hidden" name="PostId" value="{{ post.id }}">
              <p class="post_likes">{{ post.likes }} likes</p>
            </form>
            <div class="information_post">
              <p class="post_title">{{ post.title }} <span class="post_language">#{{ post.programming_language}}<span></p>
              <p class="comment_post">{{ post.comment }}</p>
              <p class="time_of_post">{{ time }}...</p>
            </div>
            <form class="add_comment_form" action="" method="POST">
                <input class="comment_input write_input" type="text" name="Add_comment" id="post_comment" placeholder="Post a comment...">
                <button class="comment_button" type="submit" name="submit_comment">Post</button>
            </form>
          </div>
        </div>
        {% endfor %}
        {% else %}
          <h1 style="margin-right: 20rem;">No posts available</h1>
        {% endif %}
    </section>


    {% if user %}
    <section class="users_section">
      <div class="userActive">
        {% if userinfo.profile %}
          <img class="picture" src="/uploads/{{ userinfo.profile }}" alt="profile picture" width="50px">
        {% else %}
          <svg style="margin-left: 0.5rem;" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
          </svg>
        {% endif %}
  
        <div class="group_user">
          <h1 class="loggedIn_user">{{ user.gebruikersnaam }}</h1>
          <p class="loggedIn_user_name">{{ user.gebruikersnaam }}</p>
        </div>
      </div>

      <div>
        <h3 class="available_users" style="padding-bottom: 0.5rem;">Voorgesteld voor jou<span class="view_all">alles weergeven</span></h3>

        <div class="active_users">
          {% for members in users %}
          <div class="members_of_binsta">
              {% if members.profile %}
                <img class="photo" src="/uploads/{{ members.profile }}" alt="profile picture" width="35px">
              {% else %}
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-person-circle no_profile_icon" viewBox="0 0 16 16">
                  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                </svg>
              {% endif %}
              <div class="group_activeUsers">
                <p class="member">{{ members.gebruikersnaam }}</p>
                <p class="follow_link">{{ members.email }}</p>
              </div>
            </div>
            {% endfor %}
        </div>
      </div>
    </section>
    {% endif %}
</main>

</body>
{% endblock %}
<script src="/views/javascript/zoekbar.js"></script>
</html>
